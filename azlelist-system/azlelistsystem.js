class AzleListControl extends React.Component{constructor(a){super(a),this.changeCurrentClass=this.changeCurrentClass.bind(this),this.sortByStat=this.sortByStat.bind(this),this.toggleMarkMode=this.toggleMarkMode.bind(this),this.toggleShowMarks=this.toggleShowMarks.bind(this),this.clearMarks=this.clearMarks.bind(this),this.state={currentClass:0,allData:this.props.allData,upgraded:0,markMode:0,showMark:0},this.sortNames=["dps","burst","dmg","rarity","reload","shot"],this.sortMenu=React.createRef(),this.equipControls=[]}componentDidMount(){this.firstSort||this.sortByStat(0,0,0)}changeCurrentClass(a){this.setState({currentClass:a},()=>{this.sortByStat(this.sortMenu.current.state.selectedSort,this.sortMenu.current.state.sortDirection,this.sortMenu.current.state.selectedUpgrade)})}sortByStat(c,a,d){var b=this.state.allData[this.props.dataClassNames[this.state.currentClass]];c=this.sortNames[c],b.sort((e,a)=>{if(!d||!e.upgraded[c]){if(e[c]>a[c])return 1;return e[c]<a[c]?-1:0}return e.upgraded[c]>a.upgraded[c]?1:e.upgraded[c]<a.upgraded[c]?-1:0}),a&&b.reverse(),this.setState({allData:this.state.allData,upgraded:d})}toggleMarkMode(){this.setState({markMode:this.state.markMode?0:1})}toggleShowMarks(){this.setState({showMark:this.state.showMark?0:1})}clearMarks(){localStorage.removeItem("marks"),_initialmarks={},this.setState({showMark:0,markMode:0});for(var a=0,b=this.equipControls.length;a<b;a++)this.equipControls[a]&&this.equipControls[a].resetMarks()}render(){for(var a,b,c,d,e=[],f=0,g=this.props.dataClassNames.length;f<g;f++)b=this.props.dataClassNames[f],f==this.state.currentClass?(a=1,c=this.state.markMode,d=this.state.showMark):(a=0,c=0,d=0),e.push(React.createElement(EquipBoxControl,{data:this.props.allData[b],equipType:b,key:f,enabled:a,upgraded:this.state.upgraded,markMode:c,showMark:d,ref:a=>{this.equipControls.push(a)}}));return[e,React.createElement("div",{className:"background"}),ReactDOM.createPortal(React.createElement(EquipClassMenu,{equipClassNames:this.props.dataClassNames,classNamesJp:this.props.classNamesJp,parentChangeClass:this.changeCurrentClass}),document.querySelector(".class-menu")),ReactDOM.createPortal(React.createElement(SortControlMenu,{sortStat:this.sortByStat,toggleMarkMode:this.toggleMarkMode,showMarkMode:this.toggleShowMarks,clearMarks:this.clearMarks,ref:this.sortMenu}),document.querySelector(".control-menu"))]}}